!function(){"use strict";!function(n,t,e,o){var a,i,r={formPageClass:".form-pages__page",nextButtonClass:".form-pages__next-button",prevButtonClass:".form-pages__prev-button",submitButtonClass:".form-pages__submit-button",paginationDirection:"horizontal",activePageClass:".form-pages__page--active",formPagesContainerClass:".form-pages__page-container"},s=n("<div></div>"),g="formPages",c={NEXT_PAGE:"next.".concat("fp",".page"),PREV_PAGE:"prev.".concat("fp",".page")},u="vertical",p=["onNextPage","onPrevPage"],P=(i={},function(t){return i[t]=i[t]||this.options[t].replace(/^(.|#)/gm,""),i[t]});function h(t,e){this.$element=n(t),this.options=n.extend({},r,e),this.currentPage=1,this._defaults=r,this._name=g,P=P.bind(this),this.init()}h.prototype.trigger=function(t,e){this.$element.trigger(t,n.extend({},e,{currentPage:this.currentPage}))},h.prototype.on=function(t,e){this.$element.on(t,null,{currentPage:this.currentPage},e)},h.prototype.canMoveForward=function(){return this.currentPage+1<=this.getTotalPages()},h.prototype.canMoveBackwards=function(){return 0<this.currentPage-1},h.prototype.init=function(){var t,o=this;a=this.$element.find(this.options.formPageClass),s.addClass(P("formPagesContainerClass")),a.removeClass(P("activePageClass")).first().addClass(P("activePageClass")),a.appendTo(s),this.$element.append(s),n.each(p,function(t,e){var n=o.options[e];n&&(o.options[e]=n.bind(null,{currentPage:o.currentPage}))}),o.on(c.PREV_PAGE,o.options.onPrevPage),o.on(c.NEXT_PAGE,o.options.onNextPage),o.on(c.PREV_PAGE,function(t){o.goToPrevPage()}),o.on(c.NEXT_PAGE,function(t){o.goToNextPage()}),o.on("click",function(t){var e=n(t.target);e.is(o.options.prevButtonClass)?(t.preventDefault(),o.canMoveBackwards()&&o.trigger(c.PREV_PAGE)):e.is(o.options.nextButtonClass)&&(t.preventDefault(),o.canMoveForward()&&o.trigger(c.NEXT_PAGE))}),t="form-pages--active",o.options.paginationDirection===u&&(t+=" form-pages--vertical"),o.$element.addClass(t)},h.prototype.getTotalPages=function(){return this.$element.find(this.options.formPageClass).length},h.prototype.goTo=function(t){var e="next";if(t<=0||t>this.getTotalPages()?e="none":(e=t>this.currentPage?"next":"prev",this.currentPage=t),"none"===e)return this.currentPage;var n=s.find(this.options.activePageClass);n.removeClass(P("activePageClass"));var o,a="".concat(this.getPageDimensions().width*(this.currentPage-1));switch(e){case"next":o=n.next(),a="-".concat(a);break;case"prev":o=n.prev()}return o.addClass(P("activePageClass")),s.css("transform","translateX(".concat(a,"px)")),this.currentPage},h.prototype.goToNextPage=function(){return this.goTo(this.currentPage+1)},h.prototype.goToPrevPage=function(){return this.goTo(this.currentPage-1)},h.prototype.getParentDimensions=function(){return{width:this.$element.outerWidth(),height:this.$element.outerHeight()}},h.prototype.getPageDimensions=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e={},n=this.$element.find(this.options.formPageClass).eq(t-1);return e.width=n.outerWidth(),e.height=n.outerHeight(),e},n.fn[g]=function(t){return this.each(function(){n.data(this,"plugin_"+g)||n.data(this,"plugin_"+g,new h(this,t))})}}(jQuery,window,document)}();
