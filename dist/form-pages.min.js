!function(){"use strict";function e(t,e){this.$element=$(t),this.options=$.extend({},defaults,e),this.currentPage=1,this._defaults=defaults,this._name=PLUGIN_NAME,u=u.bind(this),this.init()}var n,i,r,a,o,s,g,c,u=(n={},function(t){return n[t]=n[t]||this.options[t].replace(/^(.|#)/gm,""),n[t]});i=jQuery,window,document,a=i("<div></div>"),o="formPages",s={NEXT_PAGE:"next.".concat("fp",".page"),PREV_PAGE:"prev.".concat("fp",".page")},g="vertical",c=["onNextPage","onPrevPage"],e.prototype.trigger=function(t,e){this.$element.trigger(t,i.extend({},e,{currentPage:this.currentPage}))},e.prototype.on=function(t,e){this.$element.on(t,null,{currentPage:this.currentPage},e)},e.prototype.canMoveForwards=function(){return this.currentPage+1<=this.getTotalPages()},e.prototype.canMoveBackwards=function(){return 0<this.currentPage-1},e.prototype.init=function(){var t,o=this;r=this.$element.find(this.options.formPageClass),a.addClass(u("formPagesContainerClass")),r.removeClass(u("activePageClass")).first().addClass(u("activePageClass")),r.appendTo(a),this.$element.append(a),i.each(c,function(t,e){var n=o.options[e];n&&(o.options[e]=n.bind(null,{currentPage:o.currentPage}))}),o.on(s.PREV_PAGE,o.options.onPrevPage),o.on(s.NEXT_PAGE,o.options.onNextPage),o.on(s.PREV_PAGE,function(t){o.goToPrevPage()}),o.on(s.NEXT_PAGE,function(t){o.goToNextPage()}),o.on("click",function(t){var e=i(t.target);e.is(o.options.prevButtonClass)?(t.preventDefault(),o.canMoveBackwards()&&o.trigger(s.PREV_PAGE)):e.is(o.options.nextButtonClass)&&(t.preventDefault(),o.canMoveForwards()&&o.trigger(s.NEXT_PAGE))}),t="form-pages--active",o.options.paginationDirection===g&&(t+=" form-pages--vertical"),o.$element.addClass(t)},e.prototype.getTotalPages=function(){return this.$element.find(this.options.formPageClass).length},e.prototype.goTo=function(t){var e="next";if(t<=0||t>this.getTotalPages()?e="none":(e=t>this.currentPage?"next":"prev",this.currentPage=t),"none"===e)return this.currentPage;var n=a.find(this.options.activePageClass);n.removeClass(u("activePageClass"));var o,i="".concat(this.getPageDimensions().width*(this.currentPage-1));switch(e){case"next":o=n.next(),i="-".concat(i);break;case"prev":o=n.prev()}return o.addClass(u("activePageClass")),a.css("transform","translateX(".concat(i,"px)")),this.currentPage},e.prototype.goToNextPage=function(){return this.goTo(this.currentPage+1)},e.prototype.goToPrevPage=function(){return this.goTo(this.currentPage-1)},e.prototype.getParentDimensions=function(){return{width:this.$element.outerWidth(),height:this.$element.outerHeight()}},e.prototype.getPageDimensions=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e={},n=this.$element.find(this.options.formPageClass).eq(t-1);return e.width=n.outerWidth(),e.height=n.outerHeight(),e},i.fn[o]=function(t){return this.each(function(){i.data(this,"plugin_"+o)||i.data(this,"plugin_"+o,new e(this,t))})}}();
