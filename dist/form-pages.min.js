!function(){"use strict";var t,n,a=(t={},function(e){return t[e]=t[e]||this.options[e].replace(/(\.)/gm," "),t[e]}),o="formPages",e="fp",i={NEXT_PAGE:"next.page.".concat(e),PREV_PAGE:"prev.page.".concat(e),INITIALIZED:"initialized.".concat(e),PAGE_MOVED:"moved.".concat(e),UPDATE_ADAPTIVE_CONTAINER_HEIGHT:"recalculate-height.".concat(e)},s={HORIZONTAL:"horizontal",VERTICAL:"vertical"},r=[{name:"onNextPage",associatedEvent:i.NEXT_PAGE},{name:"onPrevPage",associatedEvent:i.PREV_PAGE},{name:"onInitialized",associatedEvent:i.INITIALIZED},{name:"onMovedPage",associatedEvent:i.PAGE_MOVED},{name:"onRecalculateContainerHeight",associatedEvent:i.UPDATE_ADAPTIVE_CONTAINER_HEIGHT}],g={activePageClass:".form-pages__page--active",adaptiveContainerHeight:!0,formPageClass:".form-pages__page",formPagesContainerClass:".form-pages__page-container",formPagesContainerAdaptiveHeightClass:"form-pages__page-container--adaptive-height",nextButtonClass:".form-pages__next-button",paginationDirection:s.HORIZONTAL,prevButtonClass:".form-pages__prev-button",submitButtonClass:".form-pages__submit-button",onInitialized:function(){},onNextPage:function(){},onPrevPage:function(){},shouldMoveForwards:function(){return!0},onMovedPage:function(){},onRecalculateContainerHeight:function(){}};function h(e,t){this.$element=$(e),this.options=$.extend({},g,t),this.$formPagesContainer=$("<div></div>"),this.$pages=null,this.currentPageIndexIndex=0,this._defaults=g,this._name=o,this.getOptionsSelectorAlphaChars=a.bind(this),function(){var o=this;this.$pages=this.$element.find(this.options.formPageClass),this.$formPagesContainer.addClass(this.getOptionsSelectorAlphaChars("formPagesContainerClass")),this.$pages.removeClass(this.getOptionsSelectorAlphaChars("activePageClass")).first().addClass(this.getOptionsSelectorAlphaChars("activePageClass")),this.$pages.appendTo(this.$formPagesContainer),this.$element.append(this.$formPagesContainer),$.each(r,function(e,t){var n=o.options[t.name];if(n){var a={currentPage:o.currentPageIndexIndex};t.associatedEvent!==i.INITIALIZED&&t.associatedEvent!==i.PAGE_MOVED||(a={instance:o}),o.options[t.name]=n.bind(o.$element,a),t.associatedEvent&&o.on(t.associatedEvent,o.options[t.name])}}),o.options.shouldMoveForwards=o.options.shouldMoveForwards.bind(o),o.on(i.PREV_PAGE,function(){o.goToPrevPage()}),o.on(i.NEXT_PAGE,function(){o.goToNextPage()}),o.on(i.UPDATE_ADAPTIVE_CONTAINER_HEIGHT,function(){this.options.adaptiveContainerHeight&&this.$formPagesContainer.css("height",this.getCurrentPageElement().height())}.bind(o)),o.on("click",function(e){var t=$(e.target);t.is(o.options.prevButtonClass)?(e.preventDefault(),o.canMoveBackwards()&&o.trigger(i.PREV_PAGE)):t.is(o.options.nextButtonClass)&&(e.preventDefault(),o.canMoveForwards()&&o.options.shouldMoveForwards()&&o.trigger(i.NEXT_PAGE))},"".concat(o.options.prevButtonClass,", ").concat(o.options.nextButtonClass)),function(){var e="form-pages--active";o.options.paginationDirection===s.VERTICAL&&(e+=" form-pages--vertical"),o.$element.addClass(e)}(),o.options.adaptiveContainerHeight&&(o.$formPagesContainer.addClass(o.options.formPagesContainerAdaptiveHeightClass).height(o.getCurrentPageElement().height()),o.on(i.PAGE_MOVED,function(){this.trigger(i.UPDATE_ADAPTIVE_CONTAINER_HEIGHT)}.bind(o)));o.options.onInitialized.call(this,this),$(window).on("resize",function(){o.translateToPage(o.currentPageIndexIndex)})}.call(this)}h.prototype.trigger=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.$element.trigger(e,$.extend({},t,{currentPage:this.currentPageIndexIndex,formPagesContainer:this.$formPagesContainer,currentPageElement:this.getCurrentPageElement()}))},h.prototype.on=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this.$element.on(e,n,{currentPage:this.currentPageIndexIndex,formPagesContainer:this.$formPagesContainer,currentPageElement:this.getCurrentPageElement()},t)},h.prototype.canMoveForwards=function(){return this.currentPageIndexIndex+1<this.getTotalPages()},h.prototype.canMoveBackwards=function(){return 0<=this.currentPageIndexIndex-1},h.prototype.getTotalPages=function(){return this.$element.find(this.options.formPageClass).length},h.prototype.goTo=function(e){var t="next";return e<0||e>this.getTotalPages()?t="none":(t=e>this.currentPageIndexIndex?"next":"prev",this.currentPageIndexIndex=e),"none"===t||(this.$formPagesContainer.find(this.options.activePageClass).removeClass(this.getOptionsSelectorAlphaChars("activePageClass")),this.translateToPage(e),this.trigger(i.PAGE_MOVED)),this.currentPageIndexIndex},h.prototype.translateToPage=function(e){var t=this.$formPagesContainer.find(this.options.formPageClass).eq(e),n="".concat(this.getPageDimensions().width*this.currentPageIndexIndex);e>this.currentPageIndexIndex-1&&(n="-".concat(n)),t.addClass(this.getOptionsSelectorAlphaChars("activePageClass")),this.$formPagesContainer.css("transform","translateX(".concat(n,"px)"))},h.prototype.goToNextPage=function(){return this.options.shouldMoveForwards()?this.goTo(this.currentPageIndexIndex+1):this.currentPageIndexIndex},h.prototype.goToPrevPage=function(){return this.goTo(this.currentPageIndexIndex-1)},h.prototype.getParentDimensions=function(){return{width:this.$element.outerWidth(),height:this.$element.outerHeight()}},h.prototype.getPageDimensions=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t={},n=this.$element.find(this.options.formPageClass).eq(e-1);return t.width=n.outerWidth(),t.height=n.outerHeight(),t},h.prototype.getCurrentPageElement=function(){return this.$element.find(this.options.formPageClass).eq(this.currentPageIndexIndex)},n=jQuery,window,document,n.fn[o]=function(e){return this.each(function(){n.data(this,"plugin_"+o)||n.data(this,"plugin_"+o,new h(this,e))})}}();
