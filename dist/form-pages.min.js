!function(){"use strict";var e,n,o,a=(e={},function(t){return e[t]=e[t]||this.options[t].replace(/(\.)/gm," "),e[t]}),s="formPages",t="fp",i={NEXT_PAGE:"next.page.".concat(t),PREV_PAGE:"prev.page.".concat(t),INITIALIZED:"initialized.".concat(t)},r="vertical",c=[{name:"onNextPage",associatedEvent:i.NEXT_PAGE},{name:"onPrevPage",associatedEvent:i.PREV_PAGE},{name:"onInitialized",associatedEvent:i.INITIALIZED}],g={formPageClass:".form-pages__page",nextButtonClass:".form-pages__next-button",prevButtonClass:".form-pages__prev-button",submitButtonClass:".form-pages__submit-button",paginationDirection:"horizontal",activePageClass:".form-pages__page--active",formPagesContainerClass:".form-pages__page-container",onNextPage:function(){},onPrevPage:function(){},onInitialized:function(){},shouldMoveForwards:function(){return!0}},p=$("<div></div>");function h(t,e){this.$element=$(t),this.options=$.extend({},g,e),this.currentPage=1,this._defaults=g,this._name=s,this.getOptionsSelectorAlphaChars=a.bind(this),this.init()}h.prototype.trigger=function(t,e){this.$element.trigger(t,$.extend({},e||{},{currentPage:this.currentPage}))},h.prototype.on=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this.$element.on(t,n,{currentPage:this.currentPage},e)},h.prototype.canMoveForwards=function(){return this.currentPage+1<=this.getTotalPages()},h.prototype.canMoveBackwards=function(){return 0<this.currentPage-1},h.prototype.init=function(){var t,a=this;n=this.$element.find(this.options.formPageClass),p.addClass(this.getOptionsSelectorAlphaChars("formPagesContainerClass")),n.removeClass(this.getOptionsSelectorAlphaChars("activePageClass")).first().addClass(this.getOptionsSelectorAlphaChars("activePageClass")),n.appendTo(p),this.$element.append(p),$.each(c,function(t,e){var n=a.options[e.name];if(n){var o={currentPage:a.currentPage};e.associatedEvent===i.INITIALIZED&&(o={instance:a}),a.options[e.name]=n.bind(a.$element,o),e.associatedEvent&&a.on(e.associatedEvent,a.options[e.name])}}),a.options.shouldMoveForwards=a.options.shouldMoveForwards.bind(a),a.on(i.PREV_PAGE,function(){a.goToPrevPage()}),a.on(i.NEXT_PAGE,function(){a.goToNextPage()}),a.on("click",function(t){var e=$(t.target);e.is(a.options.prevButtonClass)?(t.preventDefault(),a.canMoveBackwards()&&a.trigger(i.PREV_PAGE)):e.is(a.options.nextButtonClass)&&(t.preventDefault(),a.canMoveForwards()&&a.options.shouldMoveForwards()&&a.trigger(i.NEXT_PAGE))},"".concat(a.options.prevButtonClass,", ").concat(a.options.nextButtonClass)),t="form-pages--active",a.options.paginationDirection===r&&(t+=" form-pages--vertical"),a.$element.addClass(t),a.options.onInitialized.call(this,this),$(window).on("resize",function(){a.translateToPage(a.currentPage)})},h.prototype.getTotalPages=function(){return this.$element.find(this.options.formPageClass).length},h.prototype.goTo=function(t){var e="next";return t<=0||t>this.getTotalPages()?e="none":(e=t>this.currentPage?"next":"prev",this.currentPage=t),"none"===e||(p.find(this.options.activePageClass).removeClass(this.getOptionsSelectorAlphaChars("activePageClass")),this.translateToPage(t)),this.currentPage},h.prototype.translateToPage=function(t){var e=p.find(this.options.formPageClass).eq(t-1),n="".concat(this.getPageDimensions().width*(this.currentPage-1));t>this.currentPage-1&&(n="-".concat(n)),e.addClass(this.getOptionsSelectorAlphaChars("activePageClass")),p.css("transform","translateX(".concat(n,"px)"))},h.prototype.goToNextPage=function(){return this.options.shouldMoveForwards()?this.goTo(this.currentPage+1):this.currentPage},h.prototype.goToPrevPage=function(){return this.goTo(this.currentPage-1)},h.prototype.getParentDimensions=function(){return{width:this.$element.outerWidth(),height:this.$element.outerHeight()}},h.prototype.getPageDimensions=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e={},n=this.$element.find(this.options.formPageClass).eq(t-1);return e.width=n.outerWidth(),e.height=n.outerHeight(),e},o=jQuery,window,document,o.fn[s]=function(t){return this.each(function(){o.data(this,"plugin_"+s)||o.data(this,"plugin_"+s,new h(this,t))})}}();
