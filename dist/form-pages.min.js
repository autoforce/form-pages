!function(){"use strict";var t,n,o=(t={},function(e){return t[e]=t[e]||this.options[e].replace(/(\.)/gm," "),t[e]}),a="formPages",e="fp",i={NEXT_PAGE:"next.page.".concat(e),PREV_PAGE:"prev.page.".concat(e),INITIALIZED:"initialized.".concat(e),PAGE_MOVED:"moved.".concat(e)},s={HORIZONTAL:"horizontal",VERTICAL:"vertical"},r=[{name:"onNextPage",associatedEvent:i.NEXT_PAGE},{name:"onPrevPage",associatedEvent:i.PREV_PAGE},{name:"onInitialized",associatedEvent:i.INITIALIZED},{name:"onMovedPage",associatedEvent:i.PAGE_MOVED}],g={activePageClass:".form-pages__page--active",adaptiveContainerHeight:!0,formPageClass:".form-pages__page",formPagesContainerClass:".form-pages__page-container",formPagesContainerAdaptiveHeightClass:"form-pages__page-container--adaptive-height",nextButtonClass:".form-pages__next-button",paginationDirection:s.HORIZONTAL,prevButtonClass:".form-pages__prev-button",submitButtonClass:".form-pages__submit-button",onInitialized:function(){},onNextPage:function(){},onPrevPage:function(){},shouldMoveForwards:function(){return!0},onMovedPage:function(){}};function h(e,t){this.$element=$(e),this.options=$.extend({},g,t),this.$formPagesContainer=$("<div></div>"),this.$pages=null,this.currentPageIndexIndex=0,this._defaults=g,this._name=a,this.getOptionsSelectorAlphaChars=o.bind(this),function(){var a=this;this.$pages=this.$element.find(this.options.formPageClass),this.$formPagesContainer.addClass(this.getOptionsSelectorAlphaChars("formPagesContainerClass")),this.$pages.removeClass(this.getOptionsSelectorAlphaChars("activePageClass")).first().addClass(this.getOptionsSelectorAlphaChars("activePageClass")),this.$pages.appendTo(this.$formPagesContainer),this.$element.append(this.$formPagesContainer),$.each(r,function(e,t){var n=a.options[t.name];if(n){var o={currentPage:a.currentPageIndexIndex};t.associatedEvent!==i.INITIALIZED&&t.associatedEvent!==i.PAGE_MOVED||(o={instance:a}),a.options[t.name]=n.bind(a.$element,o),t.associatedEvent&&a.on(t.associatedEvent,a.options[t.name])}}),a.options.shouldMoveForwards=a.options.shouldMoveForwards.bind(a),a.on(i.PREV_PAGE,function(){a.goToPrevPage()}),a.on(i.NEXT_PAGE,function(){a.goToNextPage()}),a.on("click",function(e){var t=$(e.target);t.is(a.options.prevButtonClass)?(e.preventDefault(),a.canMoveBackwards()&&a.trigger(i.PREV_PAGE)):t.is(a.options.nextButtonClass)&&(e.preventDefault(),a.canMoveForwards()&&a.options.shouldMoveForwards()&&a.trigger(i.NEXT_PAGE))},"".concat(a.options.prevButtonClass,", ").concat(a.options.nextButtonClass)),function(){var e="form-pages--active";a.options.paginationDirection===s.VERTICAL&&(e+=" form-pages--vertical"),a.$element.addClass(e)}(),a.options.adaptiveContainerHeight&&(a.$formPagesContainer.addClass(a.options.formPagesContainerAdaptiveHeightClass).height(a.getCurrentPageElement().height()),a.on(i.PAGE_MOVED,function(){this.$formPagesContainer.height(this.getCurrentPageElement().height())}.bind(a)));a.options.onInitialized.call(this,this),$(window).on("resize",function(){a.translateToPage(a.currentPageIndexIndex)})}.call(this)}h.prototype.trigger=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.$element.trigger(e,$.extend({},t,{currentPage:this.currentPageIndexIndex,formPagesContainer:this.$formPagesContainer,currentPageElement:this.getCurrentPageElement()}))},h.prototype.on=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this.$element.on(e,n,{currentPage:this.currentPageIndexIndex,formPagesContainer:this.$formPagesContainer,currentPageElement:this.getCurrentPageElement()},t)},h.prototype.canMoveForwards=function(){return this.currentPageIndexIndex+1<this.getTotalPages()},h.prototype.canMoveBackwards=function(){return 0<=this.currentPageIndexIndex-1},h.prototype.getTotalPages=function(){return this.$element.find(this.options.formPageClass).length},h.prototype.goTo=function(e){var t="next";return e<0||e>this.getTotalPages()?t="none":(t=e>this.currentPageIndexIndex?"next":"prev",this.currentPageIndexIndex=e),"none"===t||(this.$formPagesContainer.find(this.options.activePageClass).removeClass(this.getOptionsSelectorAlphaChars("activePageClass")),this.translateToPage(e),this.trigger(i.PAGE_MOVED)),this.currentPageIndexIndex},h.prototype.translateToPage=function(e){var t=this.$formPagesContainer.find(this.options.formPageClass).eq(e),n="".concat(this.getPageDimensions().width*this.currentPageIndexIndex);e>this.currentPageIndexIndex-1&&(n="-".concat(n)),t.addClass(this.getOptionsSelectorAlphaChars("activePageClass")),this.$formPagesContainer.css("transform","translateX(".concat(n,"px)"))},h.prototype.goToNextPage=function(){return this.options.shouldMoveForwards()?this.goTo(this.currentPageIndexIndex+1):this.currentPageIndexIndex},h.prototype.goToPrevPage=function(){return this.goTo(this.currentPageIndexIndex-1)},h.prototype.getParentDimensions=function(){return{width:this.$element.outerWidth(),height:this.$element.outerHeight()}},h.prototype.getPageDimensions=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t={},n=this.$element.find(this.options.formPageClass).eq(e-1);return t.width=n.outerWidth(),t.height=n.outerHeight(),t},h.prototype.getCurrentPageElement=function(){return this.$element.find(this.options.formPageClass).eq(this.currentPageIndexIndex)},n=jQuery,window,document,n.fn[a]=function(e){return this.each(function(){n.data(this,"plugin_"+a)||n.data(this,"plugin_"+a,new h(this,e))})}}();
